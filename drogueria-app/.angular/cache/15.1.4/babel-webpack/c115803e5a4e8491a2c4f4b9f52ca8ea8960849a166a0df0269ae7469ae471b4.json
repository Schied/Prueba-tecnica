{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/venta.service\";\nexport class VentaComponent {\n  constructor(ventaService) {\n    this.ventaService = ventaService;\n    this.ventas = [];\n    this.cols = [];\n  }\n  ngOnInit() {\n    this.getVentas();\n    this.cols = [{\n      fields: \"id\",\n      header: \"Id\"\n    }, {\n      fields: \"fecha\",\n      header: \"Fecha de venta\"\n    }, {\n      fields: \"hora\",\n      header: \"Hora\"\n    }, {\n      fields: \"medicamento\",\n      header: \"Medicamento\"\n    }, {\n      fields: \"cantidad\",\n      header: \"Cantidad vendida\"\n    }, {\n      fields: \"valor_unitario\",\n      header: \"Valor Unitario\"\n    }, {\n      fields: \"valor_total\",\n      header: \"Valor Total\"\n    }];\n  }\n  getVentas() {\n    this.ventaService.getVentas().subscribe(result => {\n      let ventas = [];\n      for (const element of result) {\n        element.fecha = this.formDate(element.fecha);\n        ventas.push(element);\n      }\n      this.ventas = ventas;\n    }, error => {\n      console.log(error);\n    });\n  }\n  formDate(date) {\n    let fecha = new Date(date),\n      month = '' + (fecha.getMonth() + 1),\n      day = '' + fecha.getDate(),\n      year = fecha.getFullYear();\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n    return [year, month, day].join('-');\n  }\n}\nVentaComponent.ɵfac = function VentaComponent_Factory(t) {\n  return new (t || VentaComponent)(i0.ɵɵdirectiveInject(i1.VentaService));\n};\nVentaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VentaComponent,\n  selectors: [[\"app-venta\"]],\n  decls: 2,\n  vars: 0,\n  template: function VentaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"venta works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AASA,OAAM,MAAOA,cAAc;EAGzBC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAFhC,WAAM,GAAY,EAAE;IACpB,SAAI,GAAU,EAAE;EACiC;EACjDC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;IAChB,IAAI,CAACC,IAAI,GAAG,CACV;MAACC,MAAM,EAAE,IAAI;MAAEC,MAAM,EAAE;IAAI,CAAC,EAC5B;MAACD,MAAM,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAgB,CAAC,EAC3C;MAACD,MAAM,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAM,CAAC,EAChC;MAACD,MAAM,EAAE,aAAa;MAAEC,MAAM,EAAE;IAAa,CAAC,EAC9C;MAACD,MAAM,EAAE,UAAU;MAAEC,MAAM,EAAE;IAAkB,CAAC,EAChD;MAACD,MAAM,EAAE,gBAAgB;MAAEC,MAAM,EAAE;IAAgB,CAAC,EACpD;MAACD,MAAM,EAAE,aAAa;MAAEC,MAAM,EAAE;IAAa,CAAC,CAC/C;EACH;EACAH,SAAS;IACP,IAAI,CAACF,YAAY,CAACE,SAAS,EAAE,CAACI,SAAS,CAAGC,MAAM,IAAS;MACvD,IAAIC,MAAM,GAAY,EAAE;MACxB,KAAK,MAAMC,OAAO,IAAIF,MAAM,EAAE;QAC5BE,OAAO,CAACC,KAAK,GAAG,IAAI,CAACC,QAAQ,CAACF,OAAO,CAACC,KAAK,CAAC;QAC5CF,MAAM,CAACI,IAAI,CAACH,OAAO,CAAC;;MAEtB,IAAI,CAACD,MAAM,GAAGA,MAAM;IACtB,CAAC,EACDK,KAAK,IAAG;MACNC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACA;EACH;EACAF,QAAQ,CAACK,IAAS;IAChB,IAAIN,KAAK,GAAG,IAAIO,IAAI,CAACD,IAAI,CAAC;MACtBE,KAAK,GAAG,EAAE,IAAIR,KAAK,CAACS,QAAQ,EAAE,GAAG,CAAC,CAAC;MACnCC,GAAG,GAAG,EAAE,GAAGV,KAAK,CAACW,OAAO,EAAE;MAC1BC,IAAI,GAAGZ,KAAK,CAACa,WAAW,EAAE;IAC9B,IAAIL,KAAK,CAACM,MAAM,GAAG,CAAC,EAChBN,KAAK,GAAG,GAAG,GAAGA,KAAK;IACvB,IAAIE,GAAG,CAACI,MAAM,GAAG,CAAC,EACdJ,GAAG,GAAG,GAAG,GAAGA,GAAG;IACnB,OAAO,CAACE,IAAI,EAAEJ,KAAK,EAAEE,GAAG,CAAC,CAACK,IAAI,CAAC,GAAG,CAAC;EACrC;;AAxCW3B,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA4B;EAAAC;EAAAC;EAAAC;IAAA;MCT3BC,yBAAG;MAAAA,4BAAY;MAAAA,iBAAI","names":["VentaComponent","constructor","ventaService","ngOnInit","getVentas","cols","fields","header","subscribe","result","ventas","element","fecha","formDate","push","error","console","log","date","Date","month","getMonth","day","getDate","year","getFullYear","length","join","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\Schied\\Desktop\\MS\\drogueria-app\\src\\app\\components\\venta\\venta.component.ts","C:\\Users\\Schied\\Desktop\\MS\\drogueria-app\\src\\app\\components\\venta\\venta.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Venta } from 'src/app/models/venta';\nimport { VentaService } from 'src/app/services/venta.service';\n\n@Component({\n  selector: 'app-venta',\n  templateUrl: './venta.component.html',\n  styleUrls: ['./venta.component.css']\n})\nexport class VentaComponent implements OnInit{\n  ventas: Venta[] = [];\n  cols: any[] = [];\n  constructor(private ventaService: VentaService){ }\n  ngOnInit(): void {\n    this.getVentas();\n    this.cols = [\n      {fields: \"id\", header: \"Id\"},\n      {fields: \"fecha\", header: \"Fecha de venta\"},\n      {fields: \"hora\", header: \"Hora\"},\n      {fields: \"medicamento\", header: \"Medicamento\"},\n      {fields: \"cantidad\", header: \"Cantidad vendida\"},\n      {fields: \"valor_unitario\", header: \"Valor Unitario\"},\n      {fields: \"valor_total\", header: \"Valor Total\"},\n    ]\n  }\n  getVentas(): void{\n    this.ventaService.getVentas().subscribe( (result): any =>{\n      let ventas: Venta[] = [];\n      for (const element of result) {\n        element.fecha = this.formDate(element.fecha);\n        ventas.push(element);\n      }\n      this.ventas = ventas;\n    },\n    error => {\n      console.log(error);\n    }\n    );\n  }\n  formDate(date: any) {\n    let fecha = new Date(date),\n        month = '' + (fecha.getMonth() + 1),\n        day = '' + fecha.getDate(),\n        year = fecha.getFullYear();\n    if (month.length < 2)\n        month = '0' + month;\n    if (day.length < 2)\n        day = '0' + day;\n    return [year, month, day].join('-');\n  }\n}\n","<p>venta works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}